# 告警閾值輸入測試

## 修正內容

### 原問題
- 無法使用鍵盤直接輸入數字
- 只能使用上下箭頭調整數值

### 修正後功能
- ✅ 可以使用鍵盤直接輸入數字
- ✅ 支援退格鍵刪除
- ✅ 支援方向鍵移動游標
- ✅ 支援 Tab 鍵切換欄位
- ✅ 自動過濾非數字字符
- ✅ 空值自動處理為 0

## 測試步驟

### 1. 基本輸入測試
1. 點擊任一輸入框
2. 直接輸入數字 (例如: 123)
3. 應該可以正常顯示

### 2. 編輯測試
1. 選中部分文字
2. 輸入新數字替換
3. 應該可以正常替換

### 3. 刪除測試
1. 使用 Backspace 刪除數字
2. 使用 Delete 刪除數字
3. 全部刪除後應該自動變為 0

### 4. 字符過濾測試
1. 嘗試輸入字母 (a, b, c)
2. 嘗試輸入符號 (!, @, #)
3. 這些字符應該被自動過濾

### 5. 方向鍵測試
1. 使用左右箭頭移動游標
2. 使用上下箭頭調整數值
3. 應該正常工作

## 技術實現

### onChange 事件
```javascript
onChange={e => {
  const value = e.target.value;
  setFlowThreshold(value === '' ? 0 : Number(value));
}}
```

### onKeyDown 事件
```javascript
onKeyDown={e => {
  // 允許數字、退格、刪除、箭頭鍵、Tab鍵
  if (![8, 9, 46, 37, 38, 39, 40].includes(e.keyCode) && 
      (e.keyCode < 48 || e.keyCode > 57) && 
      (e.keyCode < 96 || e.keyCode > 105)) {
    e.preventDefault();
  }
}}
```

### 允許的按鍵碼
- 8: Backspace
- 9: Tab
- 46: Delete
- 37-40: 方向鍵
- 48-57: 數字鍵 (0-9)
- 96-105: 數字鍵盤 (0-9) 